<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Term Timer Statistics Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <style>
     :root {
       --primary: #2563eb;
       --secondary: #64748b;
       --success: #10b981;
       --danger: #ef4444;
       --warning: #f59e0b;
       --info: #3b82f6;
       --light: #f8fafc;
       --dark: #1e293b;
       --bg-main: #0f172a;
       --card-bg: #1e293b;
       --text-primary: #f8fafc;
       --text-secondary: #94a3b8;
       --border-color: #334155;
       --pastille: rgba(37, 99, 235, 0.3);
     }

     * {
       margin: 0;
       padding: 0;
       box-sizing: border-box;
     }

     body {
       font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
       background-color: var(--bg-main);
       color: var(--text-primary);
       line-height: 1.6;
     }

     .container {
       /* max-width: 1200px; */
       margin: 0 auto;
       padding: 0 1rem;
     }

     header {
       padding: 1.5rem 0;
       display: flex;
       justify-content: space-between;
       align-items: center;
       border-bottom: 1px solid var(--border-color);
       margin-bottom: 2rem;
     }

     .logo {
       display: flex;
       align-items: center;
       gap: 1rem;
     }

     .logo h1 {
       font-size: 1.8rem;
       font-weight: 700;
       color: var(--text-primary);
     }

     .logo i {
       font-size: 2.5rem;
       color: var(--primary);
     }

     .card {
       background-color: var(--card-bg);
       border-radius: 0.5rem;
       box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
       padding: 1.5rem;
       margin-bottom: 1.5rem;
     }

     .card-header {
       display: flex;
       justify-content: space-between;
       align-items: center;
       margin-bottom: 1rem;
       border-bottom: 1px solid var(--border-color);
       padding-bottom: 0.75rem;
     }

     .card-title {
       font-size: 1.25rem;
       font-weight: 600;
       color: var(--text-primary);
     }

     .stats-grid {
       display: grid;
       grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
       gap: 1.5rem;
     }

     .stat-card {
       display: flex;
       flex-direction: column;
       padding: 1rem;
       background-color: rgba(255, 255, 255, 0.05);
       border-radius: 0.375rem;
       transition: transform 0.2s, background-color 0.2s;
     }

     .stat-card:hover {
       transform: translateY(-5px);
       background-color: rgba(255, 255, 255, 0.1);
     }

     .stat-title {
       font-size: 0.875rem;
       color: var(--text-secondary);
       margin-bottom: 0.5rem;
     }

     .stat-value {
       font-size: 1.5rem;
       font-weight: 700;
       color: var(--text-primary);
     }

     .stat-meta {
       margin-top: 0.5rem;
       display: flex;
       align-items: center;
       gap: 0.5rem;
       font-size: 0.875rem;
     }

     .stat-best {
       color: var(--success);
     }
     .stat-worst {
       color: var(--danger);
     }

     .stat-delta {
       color: var(--text-secondary);
     }

     .stat-delta.positive {
       color: var(--danger);
     }

     .stat-delta.negative {
       color: var(--success);
     }

     .tabs {
       display: flex;
       gap: 1rem;
       margin-bottom: 1rem;
       border-bottom: 1px solid var(--border-color);
     }

     .tab {
       padding: 0.75rem 1rem;
       cursor: pointer;
       border-bottom: 2px solid transparent;
       color: var(--text-secondary);
       transition: all 0.2s;
     }

     .tab.active {
       color: var(--primary);
       border-bottom-color: var(--primary);
     }

     .tab:hover:not(.active) {
       color: var(--text-primary);
       border-bottom-color: var(--text-primary);
     }

     .tab-content {
       display: none;
     }

     .tab-content.active {
       display: block;
     }

     .solve-list th, .solve-list td {
       padding: 0.75rem 1rem;
       text-align: left;
       border-bottom: 1px solid var(--border-color);
     }

     .solve-list th {
       color: var(--text-secondary);
       font-weight: 500;
     }

     .solve-list td {
       color: var(--text-primary);
     }

     .solve-list tr:hover {
       background-color: rgba(255, 255, 255, 0.05);
     }

     .time-best {
       color: var(--success);
       font-weight: 600;
     }

     .time-worst {
       color: var(--danger);
       font-weight: 600;
     }

     .solve-date {
       color: var(--text-secondary);
     }

     .solve-scramble {
       max-width: 300px;
       overflow: hidden;
       text-overflow: ellipsis;
       white-space: nowrap;
       color: var(--text-secondary);
     }

     .solve-detail-btn {
       background-color: var(--pastille);
       color: var(--light);
       border: none;
       padding: 0.25rem 0.5rem;
       border-radius: 0.25rem;
       cursor: pointer;
       transition: background-color 0.2s;
       font-size: 0.875rem;
       text-decoration: none;
     }

     .solve-detail-btn:hover {
       background-color: var(--info)
     }

     .cfop-table th, .cfop-table td {
       padding: 0.5rem;
       text-align: left;
       border-bottom: 1px solid var(--border-color);
     }

     .cfop-table th {
       color: var(--text-secondary);
       font-weight: 500;
     }

     .cfop-table td {
       color: var(--text-primary);
     }

     .cfop-case {
       display: flex;
       align-items: center;
       gap: 0.5rem;
     }

     .cfop-case-img {
       width: 30px;
       height: 30px;
       background-color: rgba(255, 255, 255, 0.1);
       border-radius: 4px;
       display: flex;
       align-items: center;
       justify-content: center;
       font-size: 0.75rem;
     }

     .frequency-higher {
       color: var(--success);
     }

     .frequency-lower {
       color: var(--danger);
     }

     .chart-container {
       width: 100%;
       height: 300px;
       position: relative;
     }

     .distribution-chart {
       width: 100%;
       display: flex;
       align-items: flex-end;
       height: 200px;
       gap: 4px;
     }

     .distribution-bar {
       flex: 1;
       background-color: var(--primary);
       min-width: 4px;
       border-radius: 4px 4px 0 0;
       position: relative;
     }

     .distribution-bar:hover {
       background-color: var(--info);
     }

     .distribution-bar::after {
       content: attr(data-value);
       position: absolute;
       bottom: -20px;
       left: 50%;
       transform: translateX(-50%);
       font-size: 0.75rem;
       color: var(--text-secondary);
     }

     .distribution-time {
       position: absolute;
       bottom: -40px;
       font-size: 0.75rem;
       color: var(--text-secondary);
     }

     .method-insights {
       display: grid;
       grid-template-columns: repeat(4, 1fr);
       gap: 1rem;
     }

     .method-stage {
       background-color: rgba(255, 255, 255, 0.05);
       border-radius: 0.375rem;
       padding: 1rem;
       text-align: center;
     }

     .method-stage-title {
       font-size: 0.875rem;
       color: var(--text-secondary);
       margin-bottom: 0.5rem;
     }

     .method-stage-time {
       font-size: 1.25rem;
       font-weight: 600;
       margin-bottom: 0.25rem;
     }

     .method-stage-percent {
       font-size: 0.875rem;
       color: var(--text-secondary);
     }

     .progress-bar {
       width: 100%;
       height: 6px;
       background-color: rgba(255, 255, 255, 0.1);
       border-radius: 3px;
       margin-top: 0.5rem;
       overflow: hidden;
     }

     .progress-fill {
       height: 100%;
       border-radius: 3px;
     }

     .progress-fill.cross {
       background-color: #10b981;
     }

     .progress-fill.f2l {
       background-color: #3b82f6;
     }

     .progress-fill.oll {
       background-color: #f59e0b;
     }

     .progress-fill.pll {
       background-color: #ef4444;
     }

     @media (max-width: 768px) {
       .stats-grid {
         grid-template-columns: repeat(2, 1fr);
       }

       .method-insights {
         grid-template-columns: repeat(2, 1fr);
       }
     }

     @media (max-width: 480px) {
       .stats-grid {
         grid-template-columns: 1fr;
       }

       .method-insights {
         grid-template-columns: 1fr;
       }
     }
     /* Footer */
     .app-footer {
       color: var(--text-secondary);
     }

     .footer-container {
       display: grid;
       grid-template-columns: repeat(2, 1fr);
       gap: 2rem;
       max-width: 1200px;
       margin: 0 auto;
       padding: 0 1rem;
     }

     .footer-section {
       display: flex;
       flex-direction: column;
     }

     .footer-title {
       font-size: 1rem;
       font-weight: 600;
       color: var(--text-primary);
       margin-bottom: 1rem;
       padding-bottom: 0.5rem;
       border-bottom: 1px solid var(--border-color);
     }

     .footer-info {
       display: flex;
       flex-direction: column;
       gap: 0.5rem;
     }

     .info-item {
       display: flex;
       align-items: center;
       gap: 0.5rem;
     }

     .info-item i {
       color: var(--primary);
       width: 1rem;
       text-align: center;
     }

     .info-item .value {
       color: var(--light);
     }

     .sessions-grid {
       display: flex;
       flex-wrap: wrap;
       gap: 0.5rem;
     }

     .session-badge {
       background-color: var(--pastille);
       color: var(--light);
       padding: 0.25rem 0.5rem;
       border-radius: 4px;
       font-size: 0.875rem;
       display: flex;
       align-items: center;
       gap: 0.5rem;
     }

     .session-count {
       background-color: var(--primary);
       color: white;
       font-size: 0.75rem;
       padding: 0.125rem 0.375rem;
       border-radius: 999px;
     }

     .footer-bottom {
       max-width: 1200px;
       margin: 0 auto;
       padding: 1.5rem 1rem 0;
       display: flex;
       justify-content: space-between;
       align-items: center;
       margin-top: 1.5rem;
       border-top: 1px solid var(--border-color);
     }

     .copyright {
       font-size: 0.875rem;
     }

     .link {
       color: var(--text-secondary);
       text-decoration: none;
       font-size: 0.875rem;
       transition: color 0.2s;
     }

     .link:hover {
       color: var(--primary);
     }

     @media (max-width: 768px) {
       .footer-container {
         grid-template-columns: 1fr;
         gap: 2rem;
       }

       .footer-bottom {
         flex-direction: column;
         gap: 1rem;
         text-align: center;
       }
     }
     /* Table */
     .table-container {
       max-height: 600px; /* Hauteur fixe du tableau */
       overflow-y: auto; /* Ajoute une barre de défilement verticale si nécessaire */
       margin-bottom: 20px;
     }

     .table-container table {
       width: 100%;
       border-collapse: collapse;
     }

     .table-container th {
       position: sticky; /* En-têtes fixes pendant le défilement */
       top: 0;
       background-color: var(--secondary);
       color: var(--text-primary);
       z-index: 1;
     }

     tr:hover {
       background-color: #f5f5f5;
     }
    </style>
    <script>
     document.addEventListener('DOMContentLoaded', function() {
       const tabs = document.querySelectorAll('.tab');
       const tabContents = document.querySelectorAll('.tab-content');

       tabs.forEach(tab => {
         tab.addEventListener('click', function() {
           tabs.forEach(t => t.classList.remove('active'));
           this.classList.add('active');
           tabContents.forEach(content => content.classList.remove('active'));

           const tabId = this.getAttribute('data-tab');
           document.getElementById(`${tabId}-tab`).classList.add('active');
         });
       });

       initializeProgressChart();
       initializeDistributionChart();
     });

     function initializeProgressChart() {
       const ctx = document.getElementById('progressChart');
       if (!ctx) return;

       const progressData = {
         labels: {{ trend.indices|tojson }},
         datasets: [
           {
             label: 'Times',
             data: {{ trend.times|tojson }},
             borderColor: '#2563ec',
             //backgroundColor: 'rgba(59, 130, 246, 0.1)',
             tension: 0.4,
             borderWidth: 2,
             fill: true
           },
           {% if trend.ao5s %}
           {
             label: 'AO5',
             data: {{ trend.ao5s|tojson }},
             borderColor: '#EF4444',
             //backgroundColor: 'rgba(59, 130, 246, 0.1)',
             tension: 0.4,
             borderWidth: 2,
             fill: true
           },
           {% endif %}
           {% if trend.ao12s %}
           {
             label: 'AO12',
             data: {{ trend.ao12s|tojson }},
             borderColor: '#10B981',
             //backgroundColor: 'rgba(16, 185, 129, 0.1)',
             tension: 0.4,
             borderWidth: 2,
             fill: true
           },
           {% endif %}
           {% if trend.ao100s %}
           {
             label: 'AO100',
             data: {{ trend.ao100s|tojson }},
             borderColor: '#64748B',
             //backgroundColor: 'rgba(245, 158, 11, 0.1)',
             tension: 0.4,
             borderWidth: 2,
             fill: true
           }
           {% endif %}
         ]
       };

       new Chart(ctx, {
         type: 'line',
         data: progressData,
         options: {
           responsive: true,
           maintainAspectRatio: false,
           plugins: {
             legend: {
               position: 'top',
               labels: {
                 color: '#94a3b8'
               }
             },
             tooltip: {
               mode: 'index',
               intersect: false
             }
           },
           scales: {
             x: {
               ticks: {
                 color: '#94a3b8'
               },
               grid: {
                 color: 'rgba(148, 163, 184, 0.1)'
               }
             },
             y: {
               ticks: {
                 color: '#94a3b8'
               },
               grid: {
                 color: 'rgba(148, 163, 184, 0.1)'
               }
             }
           }
         }
       });
     }

     function initializeDistributionChart() {
       const ctx = document.getElementById('timeDistributionChart');
       if (!ctx) return;

       const bins = {{ distribution.labels|tojson }};
       const counts = {{ distribution.counts|tojson }};

       new Chart(ctx, {
         type: 'bar',
         data: {
           labels: bins,
           datasets: [{
             label: 'Solves',
             data: counts,
             backgroundColor: 'rgba(59, 130, 246, 0.7)',
             borderColor: '#3b82f6',
             borderWidth: 1
           }]
         },
         options: {
           responsive: true,
           maintainAspectRatio: false,
           plugins: {
             legend: {
               display: false
             },
             tooltip: {
               callbacks: {
                 title: function(tooltipItem) {
                   return tooltipItem[0].label;
                 },
                 label: function(context) {
                   return `${context.parsed.y} solves`;
                 }
               }
             }
           },
           scales: {
             x: {
               title: {
                 display: true,
                 text: 'Time',
                 color: '#94a3b8'
               },
               ticks: {
                 color: '#94a3b8'
               },
               grid: {
                 color: 'rgba(148, 163, 184, 0.1)'
               }
             },
             y: {
               title: {
                 display: true,
                 text: 'Frequency',
                 color: '#94a3b8'
               },
               ticks: {
                 color: '#94a3b8'
               },
               grid: {
                 color: 'rgba(148, 163, 184, 0.1)'
               }
             }
           }
         }
       });
     }
    </script>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo">
          <i class="fas fa-cube"></i>
          <h1>Term Timer Stats</h1>
        </div>
      </header>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Key Statistics</h2>
        </div>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-title">Total Solves</div>
            <div class="stat-value">{{ stats.total }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Total Time</div>
            <div class="stat-value">{{ stats.total_time|format_time }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Mean</div>
            <div class="stat-value">{{ stats.mean|format_time }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Median</div>
            <div class="stat-value">{{ stats.median|format_time }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Standard Deviation</div>
            <div class="stat-value">{{ stats.stdev|format_time }}</div>
          </div>
          {% if stats.total >= 2 %}
            <div class="stat-card">
              <div class="stat-title">Best</div>
              <div class="stat-value">{{ stats.best|format_time }}</div>
              {% if stats.total >= 3 %}
                <div class="stat-meta">
                  <span class="stat-best">BPA: {{ stats.bpa|format_time }}</span>
                  {% set delta = (stats.bpa - stats.best)|format_delta %}
                  <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                    {{ delta }}
                  </span>
                </div>
              {% endif %}
            </div>
            <div class="stat-card">
              <div class="stat-title">Worst</div>
              <div class="stat-value">{{ stats.worst|format_time }}</div>
              {% if stats.total >= 3 %}
                <div class="stat-meta">
                  <span class="stat-worst">WPA: {{ stats.wpa|format_time }}</span>
                  {% set delta = (stats.wpa - stats.worst)|format_delta %}
                  <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                    {{ delta }}
                  </span>
                </div>
              {% endif %}
            </div>
          {% endif %}
          {% if stats.total >= 3 %}
            <div class="stat-card">
              <div class="stat-title">Current Mo3</div>
              <div class="stat-value">{{ stats.mo3|format_time }}</div>
              <div class="stat-meta">
                <span class="stat-best">Best: {{ stats.best_mo3|format_time }}</span>
                {% set delta = (stats.mo3 - stats.best_mo3)|format_delta %}
                <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                  {{ delta }}
                </span>
              </div>
            </div>
          {% endif %}
          {% if stats.total >= 5 %}
            <div class="stat-card">
              <div class="stat-title">Current Ao5</div>
              <div class="stat-value">{{ stats.ao5|format_time }}</div>
              <div class="stat-meta">
                <span class="stat-best">Best: {{ stats.best_ao5|format_time }}</span>
                {% set delta = (stats.ao5 - stats.best_ao5)|format_delta %}
                <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                  {{ delta }}
                </span>
              </div>
            </div>
          {% endif %}
          {% if stats.total >= 12 %}
            <div class="stat-card">
              <div class="stat-title">Current Ao12</div>
              <div class="stat-value">{{ stats.ao12|format_time }}</div>
              <div class="stat-meta">
                <span class="stat-best">Best: {{ stats.best_ao12|format_time }}</span>
                {% set delta = (stats.ao12 - stats.best_ao12)|format_delta %}
                <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                  {{ delta }}
                </span>
              </div>
            </div>
          {% endif %}
          {% if stats.total >= 100 %}
            <div class="stat-card">
              <div class="stat-title">Current Ao100</div>
              <div class="stat-value">{{ stats.ao100|format_time }}</div>
              <div class="stat-meta">
                <span class="stat-best">Best: {{ stats.best_ao100|format_time }}</span>
                {% set delta = (stats.ao100 - stats.best_ao100)|format_delta %}
                <span class="stat-delta {% if '-' in delta %}negative{% else %}positive{% endif %}">
                  {{ delta }}
                </span>
              </div>
            </div>
          {% endif %}
          <!-- TODO -->
          <div class="stat-card">
            <div class="stat-title">CFOP Grade</div>
            <div class="stat-value">B+</div>
            <div class="stat-meta">
              <span class="stat-best">Score: 83.5</span>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Progress Over Time</h2>
        </div>
        <div class="chart-container">
          <canvas id="progressChart"></canvas>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Time Distribution</h2>
        </div>
        <div class="chart-container">
          <canvas id="timeDistributionChart"></canvas>
        </div>
      </div>


      <div class="card">
        <div class="tabs">
          <div class="tab active" data-tab="solves">Solves</div>
          <div class="tab" data-tab="oll">OLL</div>
          <div class="tab" data-tab="pll">PLL</div>
        </div>

        <div class="tab-content active table-container" id="solves-tab">
          <table class="solve-list">
            <thead>
              <tr>
                <th>#</th>
                <th>Time</th>
                <th>Date</th>
                <th>Scramble</th>
                <th>Flag</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for solve in stats.stack|reverse %}
              <tr>
                <td>{{ stats.stack|length - loop.index0 }}</td>
                <td class="time-best__">
                  {{ solve.time|format_time }}
                </td>
                <td class="solve-date">
                  {{ solve.datetime.strftime('%Y-%m-%d %H:%M') }}
                </td>
                <td class="solve-scramble">
                  {{ solve.scramble }}
                </td>
                <td class="solve-flag">
                  {{ solve.flag|default('---', true) }}
                </td>
                <td>
                  {% if solve.raw_moves %}
                    <a href="{{ solve.link }}" target="_blank" class="solve-detail-btn">
                      Recons
                    </a>
                  {% else %}
                    ---
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="tab-content" id="oll-tab">
          <table class="cfop-table">
            <thead>
              <tr>
                <th>Case</th>
                <th>Count</th>
                <th>Frequency</th>
                <th>Probability</th>
                <th>Inspection</th>
                <th>Execution</th>
                <th>Time</th>
                <th>QTM</th>
                <th>TPS</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">21</div>
                    <div>OLL 21</div>
                  </div>
                </td>
                <td>14</td>
                <td class="frequency-higher">10.94%</td>
                <td>4.17%</td>
                <td>0.32s</td>
                <td>0.95s</td>
                <td>1.27s</td>
                <td>9.50</td>
                <td>7.48</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">33</div>
                    <div>OLL 33</div>
                  </div>
                </td>
                <td>11</td>
                <td class="frequency-higher">8.59%</td>
                <td>4.17%</td>
                <td>0.28s</td>
                <td>0.88s</td>
                <td>1.16s</td>
                <td>8.75</td>
                <td>7.54</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">45</div>
                    <div>OLL 45</div>
                  </div>
                </td>
                <td>9</td>
                <td class="frequency-higher">7.03%</td>
                <td>4.17%</td>
                <td>0.41s</td>
                <td>1.05s</td>
                <td>1.46s</td>
                <td>10.25</td>
                <td>7.02</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">01</div>
                    <div>OLL 1</div>
                  </div>
                </td>
                <td>3</td>
                <td class="frequency-lower">2.34%</td>
                <td>4.17%</td>
                <td>0.37s</td>
                <td>1.23s</td>
                <td>1.60s</td>
                <td>11.00</td>
                <td>6.88</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">00</div>
                    <div>OLL SKIP</div>
                  </div>
                </td>
                <td>2</td>
                <td class="frequency-higher">1.56%</td>
                <td>0.36%</td>
                <td>0.00s</td>
                <td>0.00s</td>
                <td>0.00s</td>
                <td>0.00</td>
                <td>0.00</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="tab-content" id="pll-tab">
          <table class="cfop-table">
            <thead>
              <tr>
                <th>Case</th>
                <th>Count</th>
                <th>Frequency</th>
                <th>Probability</th>
                <th>Inspection</th>
                <th>Execution</th>
                <th>Time</th>
                <th>QTM</th>
                <th>TPS</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">T</div>
                    <div>PLL T</div>
                  </div>
                </td>
                <td>16</td>
                <td class="frequency-higher">12.50%</td>
                <td>4.17%</td>
                <td>0.21s</td>
                <td>1.05s</td>
                <td>1.26s</td>
                <td>14.00</td>
                <td>11.11</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">J</div>
                    <div>PLL Ja</div>
                  </div>
                </td>
                <td>12</td>
                <td class="frequency-higher">9.38%</td>
                <td>4.17%</td>
                <td>0.18s</td>
                <td>0.98s</td>
                <td>1.16s</td>
                <td>13.50</td>
                <td>11.64</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">U</div>
                    <div>PLL Ua</div>
                  </div>
                </td>
                <td>12</td>
                <td class="frequency-higher">9.38%</td>
                <td>4.17%</td>
                <td>0.16s</td>
                <td>0.87s</td>
                <td>1.03s</td>
                <td>11.75</td>
                <td>11.41</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">A</div>
                    <div>PLL Aa</div>
                  </div>
                </td>
                <td>10</td>
                <td class="frequency-higher">7.81%</td>
                <td>4.17%</td>
                <td>0.19s</td>
                <td>0.92s</td>
                <td>1.11s</td>
                <td>12.25</td>
                <td>11.04</td>
              </tr>
              <tr>
                <td>
                  <div class="cfop-case">
                    <div class="cfop-case-img">Z</div>
                    <div>PLL Z</div>
                  </div>
                </td>
                <td>2</td>
                <td class="frequency-lower">1.56%</td>
                <td>4.17%</td>
                <td>0.24s</td>
                <td>1.45s</td>
                <td>1.69s</td>
                <td>17.00</td>
                <td>10.06</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <footer class="app-footer card">
        <div class="footer-container">
          <div class="footer-section">
            <h3 class="footer-title">Report informations</h3>
            <div class="footer-info">
              <div class="info-item">
                <i class="fas fa-cube"></i>
                <span class="key">Puzzle:</span>
                <span class="value">{{ stats.cube_name }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-clock"></i>
                <span class="key">Last solve:</span>
                <span class="value">{{ stats.stack[-1].datetime.strftime('%c') }}</span>
              </div>
              <div class="info-item">
                <i class="fas fa-calendar-alt"></i>
                <span class="key">Generation date:</span>
                <span class="value">{{ now.strftime('%c') }}</span>
              </div>
            </div>
          </div>

          <div class="footer-section">
            <h3 class="footer-title">Session{% if sessions|length > 1 %}s{% endif %}</h3>
            <div class="sessions-grid">
              {% for session, count in sessions.items() %}
                <div class="session-badge">
                  Session {{ session|default('default', true) }}
                  <span class="session-count">{{ count }}</span>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="copyright">
            © {{ now.strftime('%Y') }} Term Timer.
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
